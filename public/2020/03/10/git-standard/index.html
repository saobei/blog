<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="git团队协作使用规范"><meta name="keywords" content="团队规范,协同开发"><meta name="author" content="扫呗"><meta name="copyright" content="扫呗"><title>git团队协作使用规范 | 扫呗无线前端团队</title><link rel="shortcut icon" href="/blog/melody-favicon.ico"><link rel="stylesheet" href="/blog/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#为了便于团队项目能够更好的协同开发和维护，现制定以下git使用规范"><span class="toc-number">1.</span> <span class="toc-text">为了便于团队项目能够更好的协同开发和维护，现制定以下git使用规范</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-分支模型"><span class="toc-number">1.1.</span> <span class="toc-text">1. 分支模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-master-主分支"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 master 主分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-dev-开发分支"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 dev 开发分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-feature-功能名称-功能开发分支"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 feature-[功能名称] 功能开发分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-hotfix-问题名称-bug编号-紧急热修复分支"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4 hotfix-[问题名称 | bug编号] 紧急热修复分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-commit规范"><span class="toc-number">1.2.</span> <span class="toc-text">2. commit规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-日志规范"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 日志规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-提交频率"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 提交频率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-开发流程"><span class="toc-number">1.3.</span> <span class="toc-text">3. 开发流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-合并不同分支代码"><span class="toc-number">1.4.</span> <span class="toc-text">4. 合并不同分支代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#git-提交合并请求，审核代码流程"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">git 提交合并请求，审核代码流程</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://img.lcsw.cn/blog_avatar.jpg"></div><div class="author-info__name text-center">扫呗</div><div class="author-info__description text-center">让支付回归简单</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/blog/archives"><span class="pull-left">Articles</span><span class="pull-right">12</span></a><a class="author-info-articles__tags article-meta" href="/blog/tags"><span class="pull-left">Tags</span><span class="pull-right">12</span></a><a class="author-info-articles__categories article-meta" href="/blog/categories"><span class="pull-left">Categories</span><span class="pull-right">5</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友情链接</div><a class="author-info-links__name text-center" href="http://www.lcsw.cn">扫呗官网</a><a class="author-info-links__name text-center" href="https://75team.com/post/list">奇舞团博客</a><a class="author-info-links__name text-center" href="https://www.liaoxuefeng.com/">廖雪峰博客</a><a class="author-info-links__name text-center" href="https://fed.taobao.org/">淘宝FED</a><a class="author-info-links__name text-center" href="https://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html">汤姆大叔的博客</a><a class="author-info-links__name text-center" href="http://eux.baidu.com/">百度EUX</a><a class="author-info-links__name text-center" href="https://coolshell.cn/">酷壳</a><a class="author-info-links__name text-center" href="https://aotu.io/notes/">凹凸实验室</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://img.lcsw.cn/blog_banner.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/blog/">扫呗无线前端团队</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/blog/">首页</a><a class="site-page" href="/blog/categories/vue">Vue</a><a class="site-page" href="/blog/categories/nestjs">NestJs</a><a class="site-page" href="/blog/categories/angular">Angular</a><a class="site-page" href="/blog/categories/typescript">Typescript</a><a class="site-page" href="/blog/categories/小程序">小程序</a><a class="site-page" href="/blog/categories/源码解读">源码解读</a><a class="site-page" href="/blog/categories/项目总结">项目总结</a></span></div><div id="post-info"><div id="post-title">git团队协作使用规范</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-03-10</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/项目总结/">项目总结</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="为了便于团队项目能够更好的协同开发和维护，现制定以下git使用规范"><a href="#为了便于团队项目能够更好的协同开发和维护，现制定以下git使用规范" class="headerlink" title="为了便于团队项目能够更好的协同开发和维护，现制定以下git使用规范"></a>为了便于团队项目能够更好的协同开发和维护，现制定以下git使用规范</h1><h2 id="1-分支模型"><a href="#1-分支模型" class="headerlink" title="1. 分支模型"></a>1. 分支模型</h2><ul>
<li><code>master</code> - 最为稳定功能最为完整的随时可发布的代码;</li>
<li><code>dev</code> - 永远是功能最新最全的分支;</li>
<li><code>feature-[项目名称]</code> - 特性分支，某个功能点正在开发阶段的分支；</li>
<li><code>hotfix-[问题名称|bug编号]</code> - 修复线上代码的 bug的分支；</li>
</ul>
<h3 id="1-1-master-主分支"><a href="#1-1-master-主分支" class="headerlink" title="1.1 master 主分支"></a>1.1 master 主分支</h3><ul>
<li>master主分支始终保持稳定的可发布版本</li>
<li>只有项目组主程才拥有master主分支的管理权限（例如其他分支合并到master必须由主程操作）</li>
</ul>
<h3 id="1-2-dev-开发分支"><a href="#1-2-dev-开发分支" class="headerlink" title="1.2 dev 开发分支"></a>1.2 dev 开发分支</h3><ul>
<li>dev开发分支为不稳定版本，可能存在功能缺失，但已有的功能必须是完整的</li>
<li>原则上不允许直接在dev分支上进行功能开发，必须新建feature分支进行开发</li>
<li>dev分支是跑在测试环境的代码，给测试同学测试的</li>
</ul>
<h3 id="1-3-feature-功能名称-功能开发分支"><a href="#1-3-feature-功能名称-功能开发分支" class="headerlink" title="1.3 feature-[功能名称] 功能开发分支"></a>1.3 feature-[功能名称] 功能开发分支</h3><ul>
<li>从master主干创建，横线后跟功能名称，用于新功能开发，每天下班前push提交到远程</li>
<li>开发完成之后切回dev分支，拉取最新dev上最新代码，把feature分支合并到dev分支，这里会有冲突文件，需要对应项目的同事一起来合并冲突</li>
</ul>
<h3 id="1-4-hotfix-问题名称-bug编号-紧急热修复分支"><a href="#1-4-hotfix-问题名称-bug编号-紧急热修复分支" class="headerlink" title="1.4 hotfix-[问题名称 | bug编号] 紧急热修复分支"></a>1.4 hotfix-[问题名称 | bug编号] 紧急热修复分支</h3><ul>
<li>从master分支创建，横线后面跟上问题名称或者对应的bug编号，仅仅适用于<strong>生产线问题紧急修复</strong>！！！</li>
<li>修复完成，测试通过，合并到master和dev分支上，然后将此分支删除</li>
</ul>
<h2 id="2-commit规范"><a href="#2-commit规范" class="headerlink" title="2. commit规范"></a>2. commit规范</h2><h3 id="2-1-日志规范"><a href="#2-1-日志规范" class="headerlink" title="2.1 日志规范"></a>2.1 日志规范</h3><ul>
<li>功能点，列1，2，3</li>
<li>【研发：xx 测试：xx 项目经理：xxx】</li>
</ul>
<h3 id="2-2-提交频率"><a href="#2-2-提交频率" class="headerlink" title="2.2 提交频率"></a>2.2 提交频率</h3><ul>
<li>每天下班前必须提交feature分支，并且push到远程【防止出现电脑挂掉导致代码遗失的问题】</li>
<li>hotfix、feature分支尽量按照功能点或修复重构的问题及时commit（不要求push）【目的是防止一次commit提交大量改动，不便于后期排错】</li>
</ul>
<h2 id="3-开发流程"><a href="#3-开发流程" class="headerlink" title="3. 开发流程"></a>3. 开发流程</h2><ol>
<li><p>开发者pull master最新代码，拉取feature分支 统一命名风格：feature-[项目名称]</p>
</li>
<li><p>在feature分支上完成开发自测后，切换到dev分支，pull最新代码，把feature分支合并到dev分支，可能会出现冲突，和协作同事商量解决。</p>
<blockquote>
<p>注意，非简单的解决featue a 和test分支冲突，需要商量是feature a还是feature b需要调整代码，假若feature a需要调整代码，feature a调整代码，合并到dev分支。feature b 重新操作合并到dev分支。</p>
</blockquote>
</li>
<li><p>通知测试在测试分支测试，这个阶段不用关心发版进程，除非业务互相依赖。bug也在feature分支修改，修复完成后合并流程参考step2;</p>
</li>
<li><p>测试完全通过后，开发切换到master分支，pull最新代码，切换回feature分支，把master分支合并到feature分支（保证即将发布的代码没冲突），在gitlab提交合并请求，写上功能需求点，脚本等，指定项目管理员审核并且合并代码</p>
</li>
<li><p>管理员审核代码，处理（本次版本内）合并请求，打tag，发版，走线上验证流程。</p>
</li>
<li><p>完成功能开发。feature可以保留几周后统一清理</p>
</li>
</ol>
<h2 id="4-合并不同分支代码"><a href="#4-合并不同分支代码" class="headerlink" title="4. 合并不同分支代码"></a>4. 合并不同分支代码</h2><ul>
<li>保持commit记录清爽，比如上面的step2 ,把feature分支合并到dev分支，feature分支里面有很多每日的提交commit记录，这些记录只允许存在这个feature分支，不能合并到dev分支里面来</li>
</ul>
<p><code>正确做法</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git merge --squash feature<span class="_">-a</span>  </span><br><span class="line">git commit -m <span class="string">"合并feature-a分支代码到dev分支【研发：xxx 测试：xx 项目经理：xxx】"</span></span><br></pre></td></tr></table></figure>

<p><code>错误做法</code>(这样会把feature分支上的提交记录都混过来，导致commit记录混乱，不方便回滚代码)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge feature<span class="_">-a</span></span><br></pre></td></tr></table></figure>

<h4 id="git-提交合并请求，审核代码流程"><a href="#git-提交合并请求，审核代码流程" class="headerlink" title="git 提交合并请求，审核代码流程"></a>git 提交合并请求，审核代码流程</h4><p><img src="./git-standard/pull_request1.jpg" alt="合并请求"></p>
<p><img src="./git-standard/pull_request2.jpg" alt="创建合并请求"></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">扫呗</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://saobei.github.io/2020/03/10/git-standard/">https://saobei.github.io/2020/03/10/git-standard/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/团队规范/">团队规范</a><a class="post-meta__tags" href="/blog/tags/协同开发/">协同开发</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/blog/2020/10/22/angular-learn01/"><i class="fa fa-chevron-left">  </i><span>angular从入门到入土系列01</span></a></div><div class="next-post pull-right"><a href="/blog/2020/03/09/angular/"><span>angular相关知识分享</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="lv-container" data-id="city" data-uid="MTAyMC80NzI0MS8yMzc0MQ=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div><footer class="footer-bg" style="background-image: url(http://img.lcsw.cn/blog_banner.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 By 扫呗</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/blog/js/utils.js?version=1.6.1"></script><script src="/blog/js/fancybox.js?version=1.6.1"></script><script src="/blog/js/sidebar.js?version=1.6.1"></script><script src="/blog/js/copy.js?version=1.6.1"></script><script src="/blog/js/fireworks.js?version=1.6.1"></script><script src="/blog/js/transition.js?version=1.6.1"></script><script src="/blog/js/scroll.js?version=1.6.1"></script><script src="/blog/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>